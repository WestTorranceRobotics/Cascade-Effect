#pragma config(Motor,  motorA,          lanushearLift, tmotorNXT, PIDControl, encoder)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#include "JoystickDriver.c"

int preValue;
int liftValue;
int liftPower;
int Start_Encoder;
int EncoderSwagV2;
int I = 0;
int P;
int error;
int lanushearlifter = 0;
bool intakeActive = true;
bool pressed = false;

void initialize()
{
	motor[lanushearLift] = 0;
	nMotorEncoder[lanushearLift] = 0;
}

task main()
{
	initialize();
	Start_Encoder = nMotorEncoder[lanushearLift];
	liftValue = Start_Encoder;
	while(true)
	{

			if(joy1Btn(1))
			{
				liftValue = Start_Encoder + 100;
			}
			else if(joy1Btn(2))
			{
				liftValue = Start_Encoder + 200;
			}
			else if(joy1Btn(3))
			{
				liftValue = Start_Encoder + 300;
			}
			else if(joy1Btn(4))
			{
				liftValue = Start_Encoder + 400;
			}
			else if(joy1Btn(10))
			{
				liftValue = Start_Encoder;
			}

			EncoderSwagV2 = nMotorEncoder[lanushearLift];
			
			error = liftValue - nMotorEncoder[lanushearLift];
			
			P = error;
			
			if (I + error < 5000 && I + error > -5000)
			{
				I = I + error;
			}
			
			liftPower = (P/8 + I/100);
			
			motor[lanushearLift] = liftPower;

/*
			if(joy1Btn(6) == 1)
			{
				motor[lanushearLift] = 50;
				intakeActive = true;
			}
			else if(joy1Btn(5) == 1)
			{
				motor[lanushearLift] = -10;
				intakeActive = true;
			}
			else if(lanushearlifter == 0)
			{
					if(nMotorEncoder[lanushearLift] > 0 && preValue > lanushearlifter)
					{
						motor[lanushearLift] = -10;
					}
					intakeActive = true;
			}
			else if(lanushearlifter == 1)
			{
					if(nMotorEncoder[lanushearLift] > 100 && preValue > lanushearlifter)
					{
						motor[lanushearLift] = -10;
					}

					if(nMotorEncoder[lanushearLift] < 100 && preValue < lanushearlifter)
					{
						motor[lanushearLift] = 50;
					}
					intakeActive = true;
			}
			else if(lanushearlifter == 2)
			{
					if(nMotorEncoder[lanushearLift] > 200 && preValue > lanushearlifter)
					{
						motor[lanushearLift] = -10;
					}

					if(nMotorEncoder[lanushearLift] < 200 && preValue < lanushearlifter)
					{
						motor[lanushearLift] = 50;
					}
					intakeActive = true;
			}
			else if(lanushearlifter == 3)
			{
					if(nMotorEncoder[lanushearLift] > 300 && preValue > lanushearlifter)
					{
						motor[lanushearLift] = -10;
					}

					if(nMotorEncoder[lanushearLift] < 300 && preValue < lanushearlifter)
					{
						motor[lanushearLift] = 50;
					}
					intakeActive = true;
			}
			else if(lanushearlifter == 4)
			{
					if(nMotorEncoder[lanushearLift] > 400 && preValue > lanushearlifter)
					{
						motor[lanushearLift] = -10;
					}

					if(nMotorEncoder[lanushearLift] < 400 && preValue < lanushearlifter)
					{
						motor[lanushearLift] = 50;
					}
					intakeActive = true;

			}
			else
			{
				motor[lanushearLift] = 0;
			}
			*/

			nxtDisplayBigTextLine(3, "%d", nMotorEncoder[lanushearLift]);
	}


}
